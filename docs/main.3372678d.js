!function(t){function e(e){for(var n,a,l=e[0],s=e[1],u=e[2],p=0,m=[];p<l.length;p++)a=l[p],i[a]&&m.push(i[a][0]),i[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);m.length;)m.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,l=1;l<o.length;l++){var s=o[l];0!==i[s]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={1:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=s;r.push([66,0]),o()}({59:function(t,e,o){"use strict";o.r(e);var n=o(58),i=o(57),r=o.n(i),a=o(56),l=o(50),s=o(51),u=o(52),c=o(28);function p(t){return!!(t&&t.getGeometry&&t.getGeometry.call)}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){f(t,e,o[e])})}return t}function f(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var d={name:"vem-map",introduction:"Container component to initialize a map.",description:"\n    Each map instance is created using this component.\n  ",token:"<vem-map>\x3c!-- this will not do much, see TileLayer and VectorLayer --\x3e</vem-map>",data:function(){return{ignoreNextUpdate:!1,ignoreAllUpdates:!1,savedState:null}},props:{view:{type:Object,default:function(t){return{lon:0,lat:0,zoom:2,rotation:0}},note:"Object to set initial map view. Can be synced."},zoomToFeature:{validator:p,note:"A map feature to zoom to. If set dynamically, the former view state is put on a stack and the map reverts to it after unsetting this."},zoomToExtent:{type:Array,note:"Same as `zoomToFeature` but using an extent, which is an array in the form of [min x, min y, max x, max y] coordinates."},syncImmediately:{type:Boolean,default:!1,note:"If set to true, the map emits events for every movement step instead of waiting for moveEnd."},olOptions:{type:Object,note:"Object with options given the OpenLayers map on initialization."}},watch:{view:function(t){if(!this.ignoreAllUpdates)if(this.ignoreNextUpdate)this.ignoreNextUpdate=!1;else{var e=this.$olMap.getView(),o=t.lonlat,n=t.zoom,i=t.rotation;Array.isArray(o)&&e.setCenter(c.a.fromLonLat(o)),"number"==typeof n&&e.setZoom(n),"number"==typeof i&&e.setRotation(i)}},zoomToExtent:function(t,e){this.toggleZoom(t,e)},zoomToFeature:function(t,e){var o=p(t)?t.getGeometry().getExtent():null,n=p(e)?e.getGeometry().getExtent():null;this.toggleZoom(o,n)}},methods:{toggleZoom:function(t,e){if(t){if(!e){var o=this.$olMap.getView();this.savedState={center:o.getCenter(),zoom:o.getZoom()}}this.$olMap.getView().fit(t,{duration:300,constrainResolution:!1})}else!t&&e&&this.$olMap.getView().animate(m({},this.savedState,{duration:300}))}},mounted:function(){var t=this,e=m({target:this.$el,controls:s.a.defaults(),interactions:u.a.defaults(),loadTilesWhileAnimating:!0,layers:[],view:new l.a({center:[this.view.lon,this.view.lat],zoom:this.view.zoom,rotation:this.view.rotation})},this.olOptions);this.$olMap=new a.a(e),this.$on("addLayer",function(e){if(t.$olMap.addLayer(e.layer),e.minResolution)e.layer.setMinResolution(e.minResolution);else if(e.maxZoom){var o=t.$olMap.getView().getResolutionForZoom(e.maxZoom);e.layer.setMinResolution(o)}if(e.maxResolution)e.layer.setMaxResolution(e.maxResolution);else if(e.minZoom){var n=t.$olMap.getView().getResolutionForZoom(e.minZoom);e.layer.setMaxResolution(n)}"VECTOR"===e.layer.type&&e.fitMapToLayer&&t.$olMap.getView().fit(e.layer.getSource().getExtent())}),this.$on("removeLayer",function(e){return t.$olMap.removeLayer(e.layer)}),this.$on("addInteraction",function(e){return t.$olMap.addInteraction(e.interaction)}),this.$on("removeInteraction",function(e){return t.$olMap.removeInteraction(e.interaction)}),this.$olMap.on("click",function(e){var o=e.map.forEachFeatureAtPixel(e.pixel,function(t){return t});t.$emit("click",{pixel:e.pixel,lonlat:c.a.toLonLat(e.coordinate),pointerEvent:e.pointerEvent,originalEvent:e,feature:o})}),this.$olMap.on("moveend",function(e){var o=t.$olMap.getView();t.ignoreAllUpdates=!1,t.ignoreNextUpdate=!0,t.$emit("update:view",{lonlat:c.a.toLonLat(o.getCenter()),zoom:o.getZoom(),rotation:o.getRotation()})}),this.syncImmediately&&(this.$olMap.on("movestart",function(e){t.ignoreAllUpdates=!0}),this.$olMap.on("pointerdrag",function(e){t.$nextTick(function(){var e=t.$olMap.getView();t.$emit("update:view",{lonlat:c.a.toLonLat(e.getCenter()),zoom:e.getZoom(),rotation:e.getRotation()})})})),console.log("MAP INITIALISED")}},g=o(53),h=Object(g.a)(d,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vem-map"},[this._t("default")],2)},[],!1,null,null,null).exports,v={name:"documentation",components:{propDoc:r.a},data:function(){return{map:h}}},y=Object(g.a)(v,function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("prop-doc",{attrs:{component:this.map}})],1)},[],!1,null,null,null).exports;o(61);new n.a({el:"#app",render:function(t){return t(y)}})},66:function(t,e,o){t.exports=o(59)}});
//# sourceMappingURL=main.3372678d.js.map